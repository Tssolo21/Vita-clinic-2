<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="VitaClinic.WebAPI.MainWindow"
        Title="VitaClinic - Desktop App" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Duration x:Key="FastAnimation">0:0:0.15</Duration>
        <Duration x:Key="NormalAnimation">0:0:0.3</Duration>
        <Duration x:Key="SlowAnimation">0:0:0.5</Duration>
        <CubicEaseInOut x:Key="SmoothEase"/>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Enhanced Sidebar with Navigation Buttons -->
        <Border Grid.Column="0" Background="#6366F1" Padding="20">
            <Border.Styles>
                <Style Selector="Button">
                    <Setter Property="Transitions">
                        <Transitions>
                            <TransformTransition Property="RenderTransform" Duration="{StaticResource FastAnimation}" Easing="{StaticResource SmoothEase}"/>
                            <BrushTransition Property="Background" Duration="{StaticResource FastAnimation}" Easing="{StaticResource SmoothEase}"/>
                        </Transitions>
                    </Setter>
                </Style>

                <Style Selector="Button:pointerover">
                    <Setter Property="Background" Value="#4F46E5"/>
                    <Setter Property="TranslateTransform.X" Value="4"/>
                </Style>

                <Style Selector="Button:pressed">
                    <Setter Property="Background" Value="#6366F1"/>
                    <Setter Property="TranslateTransform.X" Value="2"/>
                    <Setter Property="ScaleTransform.ScaleX" Value="0.98"/>
                    <Setter Property="ScaleTransform.ScaleY" Value="0.98"/>
                </Style>

                <Style Selector="Button.active">
                    <Setter Property="Background" Value="#4F46E5"/>
                    <Setter Property="BorderBrush" Value="#818CF8"/>
                    <Setter Property="BorderThickness" Value="0,0,4,0"/>
                    <Setter Property="TranslateTransform.X" Value="4"/>
                </Style>
            </Border.Styles>

            <StackPanel>
                <!-- Header with fade-in animation -->
                <StackPanel.Styles>
                    <Style Selector="StackPanel">
                        <Style.Animations>
                            <Animation Duration="0:0:0.8" Easing="CubicEaseOut">
                                <KeyFrame Cue="0%">
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="TranslateTransform.Y" Value="-20"/>
                                </KeyFrame>
                                <KeyFrame Cue="100%">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="TranslateTransform.Y" Value="0"/>
                                </KeyFrame>
                            </Animation>
                        </Style.Animations>
                    </Style>
                </StackPanel.Styles>

                <TextBlock Text="ðŸ¥ VitaClinic" FontSize="24" FontWeight="Bold" Foreground="White" Margin="0,0,0,10"/>
                <TextBlock Name="WelcomeText" FontSize="14" Foreground="#E0E7FF" Margin="0,0,0,30"/>

                <!-- Navigation Buttons with enhanced styling -->
                <Button Name="DashboardButton" Content="ðŸ“Š Dashboard" Click="ShowDashboard"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>
                <Button Name="ClientsButton" Content="ðŸ‘¥ Clients" Click="ShowClients"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>
                <Button Name="AnimalsButton" Content="ðŸ¾ Animals" Click="ShowAnimals"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>
                <Button Name="AppointmentsButton" Content="ðŸ“… Appointments" Click="ShowAppointments"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>
                <Button Name="RecordsButton" Content="ðŸ“‹ Medical Records" Click="ShowRecords"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>
                <Button Name="SettingsButton" Content="âš™ï¸ Settings" Click="ShowSettings"
                        Background="#5558E3" Foreground="White" Padding="15,10" Margin="0,5" HorizontalAlignment="Stretch"/>

                <Button Name="LogoutButton" Content="ðŸšª Logout" Click="Logout"
                        Background="#DC2626" Foreground="White" Padding="15,10" Margin="0,40,0,0" HorizontalAlignment="Stretch"/>
            </StackPanel>
        </Border>

        <!-- Enhanced Content Area with Loading Overlay -->
        <Grid Grid.Column="1">
            <!-- Loading Overlay -->
            <Border Name="LoadingOverlay"
                    Background="rgba(255,255,255,0.9)"
                    IsVisible="False"
                    ZIndex="100">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Border Width="60" Height="60" Classes="spinner" Margin="0,0,0,16">
                        <Border Background="#6366F1" CornerRadius="30" BorderThickness="4" BorderBrush="#818CF8"/>
                    </Border>
                    <TextBlock Text="Loading..." FontSize="16" Foreground="#6B7280" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Main Content -->
            <ScrollViewer Grid.Column="1">
                <StackPanel Name="ContentPanel" Margin="30">
                    <StackPanel.Styles>
                        <!-- Enhanced Content Transition Animations -->
                        <Style Selector="UserControl">
                            <Setter Property="Opacity" Value="0"/>
                            <Setter Property="TranslateTransform.X" Value="0"/>
                            <Setter Property="ScaleTransform.ScaleX" Value="0.95"/>
                            <Setter Property="ScaleTransform.ScaleY" Value="0.95"/>
                            <Style.Animations>
                                <Animation Duration="0:0:0.4" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.X" Value="50"/>
                                        <Setter Property="ScaleTransform.ScaleX" Value="0.95"/>
                                        <Setter Property="ScaleTransform.ScaleY" Value="0.95"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.X" Value="0"/>
                                        <Setter Property="ScaleTransform.ScaleX" Value="1"/>
                                        <Setter Property="ScaleTransform.ScaleY" Value="1"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>

                        <!-- Back Navigation Animation -->
                        <Style Selector="UserControl.back-navigation">
                            <Style.Animations>
                                <Animation Duration="0:0:0.4" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.X" Value="-50"/>
                                        <Setter Property="ScaleTransform.ScaleX" Value="0.95"/>
                                        <Setter Property="ScaleTransform.ScaleY" Value="0.95"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.X" Value="0"/>
                                        <Setter Property="ScaleTransform.ScaleX" Value="1"/>
                                        <Setter Property="ScaleTransform.ScaleY" Value="1"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>

                        <!-- Content Items Staggered Animation -->
                        <Style Selector="Border > StackPanel > Border">
                            <Setter Property="Opacity" Value="0"/>
                            <Setter Property="TranslateTransform.Y" Value="20"/>
                            <Style.Animations>
                                <Animation Duration="0:0:0.5" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.Y" Value="20"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.Y" Value="0"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>

                        <!-- Staggered delays for list items -->
                        <Style Selector="Border > StackPanel > Border:nth-child(1)">
                            <Style.Animations>
                                <Animation Duration="0:0:0.5" BeginTime="0:0:0.0" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.Y" Value="20"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.Y" Value="0"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>

                        <Style Selector="Border > StackPanel > Border:nth-child(2)">
                            <Style.Animations>
                                <Animation Duration="0:0:0.5" BeginTime="0:0:0.1" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.Y" Value="20"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.Y" Value="0"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>

                        <Style Selector="Border > StackPanel > Border:nth-child(3)">
                            <Style.Animations>
                                <Animation Duration="0:0:0.5" BeginTime="0:0:0.2" Easing="CubicEaseOut">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="TranslateTransform.Y" Value="20"/>
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="TranslateTransform.Y" Value="0"/>
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>
                    </StackPanel.Styles>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>
