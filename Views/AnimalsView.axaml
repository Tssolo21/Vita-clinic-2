<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:animation="clr-namespace:Avalonia.Animation;assembly=Avalonia.Animation"
             x:Class="VitaClinic.WebAPI.Views.AnimalsView">

    <UserControl.Styles>

        <!-- Animal Card Hover Effect -->
        <Style Selector="Border.animal-card">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BoxShadow" Value="0 2 8 #0000001A"/>
        </Style>






    </UserControl.Styles>

    <StackPanel Margin="20">
        <!-- Header with animation -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
            <TextBlock Text="ðŸ¾" FontSize="32" Margin="0,0,12,0" VerticalAlignment="Center"/>
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="Animals Management" FontSize="28" FontWeight="Bold" Foreground="#1F2937"/>
                <TextBlock Text="Manage your veterinary patients" FontSize="14" Foreground="#6B7280" Margin="0,4,0,0"/>
            </StackPanel>
        </StackPanel>

        <!-- Action Buttons -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
            <Button Name="BackButton" Content="â¬…ï¸ Back to Dashboard" Click="GoBack"
                    Background="#6B7280" Foreground="White" Padding="12,8" Margin="0,0,10,0"
                    Classes="card"/>
            <Button Name="AddAnimalButton" Content="âž• Add New Animal" Click="AddAnimal"
                    Background="#6366F1" Foreground="White" Padding="12,8" Margin="0,0,10,0"
                    Classes="card"/>
            <Button Name="RefreshButton" Content="ðŸ”„ Refresh" Click="LoadAnimals"
                    Background="#10B981" Foreground="White" Padding="12,8"
                    Classes="card"/>
        </StackPanel>

        <!-- Animals List with Enhanced Cards -->
        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <ItemsControl Name="AnimalsList" ItemsSource="{Binding Animals}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#E5E7EB" BorderThickness="2" CornerRadius="12" Margin="8"
                                Padding="20" Background="White" Classes="animal-card">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Animal Avatar -->
                                <Border Grid.Column="0"
                                        Width="60" Height="60"
                                        CornerRadius="30"
                                        Background="#F3F4F6"
                                        Margin="0,0,16,0"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Left">
                                    <TextBlock Text="ðŸ•" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>

                                <!-- Animal Content -->
                                <StackPanel Grid.Column="0" Margin="76,0,0,0">
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="Animal #" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                        <TextBlock Text="{Binding Id}" FontSize="12" FontWeight="Bold" Foreground="#374151" Margin="4,0,0,0"/>
                                        <!-- Status Badge -->
                                        <Border Background="#10B981" CornerRadius="12" Padding="8,4" Margin="12,0,0,0">
                                            <TextBlock Text="Active" FontSize="10" Foreground="White" FontWeight="Bold"/>
                                        </Border>
                                    </StackPanel>

                                    <TextBlock Text="{Binding Name}" FontSize="20" FontWeight="Bold"
                                               Foreground="#1F2937" Margin="0,0,0,8"/>

                                    <Grid Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <TextBlock Text="ðŸ¾" FontSize="12" Margin="0,0,4,0"/>
                                                <TextBlock Text="Species:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                                <TextBlock Text="{Binding Species}" FontSize="12" Foreground="#374151" Margin="4,0,0,0"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <TextBlock Text="ðŸŽ¨" FontSize="12" Margin="0,0,4,0"/>
                                                <TextBlock Text="Breed:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                                <TextBlock Text="{Binding Breed}" FontSize="12" Foreground="#374151" Margin="4,0,0,0"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Margin="16,0,0,0">
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <TextBlock Text="âš–ï¸" FontSize="12" Margin="0,0,4,0"/>
                                                <TextBlock Text="Weight:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                                <TextBlock Text="{Binding Weight, StringFormat={}{0} kg}" FontSize="12" Foreground="#374151" Margin="4,0,0,0"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="â™‚ï¸/â™€ï¸" FontSize="12" Margin="0,0,4,0"/>
                                                <TextBlock Text="Gender:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                                <TextBlock Text="{Binding Gender}" FontSize="12" Foreground="#374151" Margin="4,0,0,0"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>

                                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                        <TextBlock Text="ðŸ‘¤" FontSize="12" Margin="0,0,4,0"/>
                                        <TextBlock Text="Owner:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                        <TextBlock Text="{Binding Client.FirstName}" FontSize="12" Foreground="#374151" Margin="4,0,0,0"/>
                                        <TextBlock Text="{Binding Client.LastName}" FontSize="12" Foreground="#374151" Margin="0,0,16,0"/>
                                        <TextBlock Text="ðŸŽ‚" FontSize="12" Margin="0,0,4,0"/>
                                        <TextBlock Text="Birth Date:" FontSize="12" FontWeight="Bold" Foreground="#6B7280"/>
                                        <TextBlock Text="{Binding DateOfBirth, StringFormat=' {0:d}'}" FontSize="12" Foreground="#374151"/>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Action Buttons -->
                                <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Top" Margin="16,0,0,0">
                                    <Button Content="âœï¸ Edit" Padding="12,8" Margin="0,0,0,8"
                                            Background="#6366F1" Foreground="White" CornerRadius="8"
                                            Click="EditAnimal" Tag="{Binding Id}"
                                            Classes="card"/>
                                    <Button Content="ðŸ—‘ï¸ Delete" Padding="12,8"
                                            Background="#EF4444" Foreground="White" CornerRadius="8"
                                            Click="DeleteAnimal" Tag="{Binding Id}"
                                            Classes="delete-button card"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </StackPanel>
</UserControl>
